# Написать функцию car_rental(cars, services), которая:
#  1. Спрашивает у пользователя имя и количество пассажиров.
#  2. Позволяет арендовать машину (пока не введёт стоп).
#  3. Проверяет:
#  • есть ли такая категория,
#  • есть ли свободные машины,
#  • хватает ли мест для пассажиров.
#  4. Если всё ок → спросить количество дней.
#  5. После выбора машины → спросить про дополнительные услуги (несколько через запятую).
#  • Каждая услуга оплачивается за все дни аренды.
#  6. Сохранить заказ (машина, дни, услуги, цена).
#  7. Если сумма всех заказов > 25000 сом, то скидка 10%.
#  8. В конце вывести:
#  • список арендованных машин (с услугами),
#  • итоговую сумму,
#  • остаток машин по категориям.


cars = {
    "Эконом": {"цена": 2000, "машины": 5, "макс_пассажиров": 4},
    "Комфорт": {"цена": 3500, "машины": 3, "макс_пассажиров": 5},
    "Бизнес": {"цена": 6000, "машины": 2, "макс_пассажиров": 5},
    "Внедорожник": {"цена": 8000, "машины": 2, "макс_пассажиров": 7}
}
services = {

    "Детское кресло": 500,
    "GPS-навигация": 700,
    "Страховка": 1500

}
def car_rental(cars, services):
    name = input("Введите ваше имя: ")
    passengers = int(input("Введите количество пассажиров: "))

    orders = []  
    total = 0  

    while True:
        car_type = input("\nВведите категорию машины (или 'стоп' чтобы закончить): ").capitalize()
        if car_type == "Стоп":
            break

        if car_type not in cars:
            print("Такой категории нет.")
            continue

        if cars[car_type]["машины"] == 0:
            print("Нет свободных машин в этой категории.")
            continue

        if passengers > cars[car_type]["макс_пассажиров"]:
            print("В этой машине недостаточно мест.")
            continue

        days = int(input("На сколько дней хотите арендовать машину: "))
        base_price = cars[car_type]["цена"] * days

        print("Доступные услуги: ", ", ".join(services.keys()))
        chosen_services = input("Введите нужные услуги через запятую (или оставьте пустым): ").split(",")
        chosen_services = [s.strip().capitalize() for s in chosen_services if s.strip()]

        service_cost = 0
        for s in chosen_services:
            if s in services:
                service_cost += services[s] * days
            else:
                print(f"Услуга '{s}' не найдена и не будет добавлена.")

        price = base_price + service_cost
        total += price
        cars[car_type]["машины"] -= 1

        orders.append({
            "категория": car_type,
            "дни": days,
            "услуги": chosen_services,
            "стоимость": price
        })

        print(f"Машина категории {car_type} успешно арендована на {days} дней. Стоимость: {price} сом.")

    if total > 25000:
        discount = total * 0.1
        total -= discount
        print(f"\nПрименена скидка 10% ({discount} сом).")

    print("\n=== Итог аренды ===")
    for o in orders:
        print(f"{o['категория']} — {o['дни']} дн., услуги: {', '.join(o['услуги']) if o['услуги'] else 'без услуг'}, стоимость: {o['стоимость']} сом")
    print(f"\nИтоговая сумма: {total} сом")

    print("\nОстаток машин по категориям:")
    for c, info in cars.items():
        print(f"{c}: {info['машины']} машин")

cars = {
    "Эконом": {"цена": 2000, "машины": 5, "макс_пассажиров": 4},
    "Комфорт": {"цена": 3500, "машины": 3, "макс_пассажиров": 5},
    "Бизнес": {"цена": 6000, "машины": 2, "макс_пассажиров": 5},
    "Внедорожник": {"цена": 8000, "машины": 2, "макс_пассажиров": 7}
}

services = {
    "Детское кресло": 500,
    "Gps-навигация": 700,
    "Страховка": 1500
}

car_rental(cars, services)
